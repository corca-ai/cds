{"version":3,"file":"MultiSelectInput.mjs","sources":["../../../../src/legacy/components/Select/MultiSelectInput.tsx"],"sourcesContent":["import { CSSProperties, InputHTMLAttributes, useMemo } from 'react';\n\nimport styled from '@emotion/styled';\n\nimport Icon from '../Icon';\nimport { B5 } from '../Text';\nimport { TooltipProps } from '../Tooltip';\nimport { color, typography } from '../styles';\nimport { BasicOptionItem } from './OptionList';\nimport {\n  SelectInputDescription,\n  SelectInputErrorSection,\n  SelectInputLabel,\n  SelectInputRightIconSection,\n} from './SelectInput';\n\nconst getItemButtonMaxWidth = (itemLen: number) => {\n  return itemLen <= 1 ? 266 : 214;\n};\ntype SelectInputTooltipProps = Omit<TooltipProps, 'children'>;\n\nexport interface SelectInputBaseProps<T extends string | number>\n  extends Omit<InputHTMLAttributes<HTMLInputElement>, 'width' | 'value'> {\n  optionItems: BasicOptionItem<T>[];\n  onDeleteSingle: (value: T) => void;\n  onDeleteAll: () => void;\n  label?: string;\n  description?: string;\n  error?: string;\n  width?: number;\n  tooltip?: SelectInputTooltipProps;\n  dropdownOpened?: boolean;\n  showIcon?: boolean;\n}\n\nexport function MultiSelectInput<T extends string | number>({\n  optionItems,\n  label,\n  description,\n  required = false,\n  error,\n  width,\n  tooltip,\n  dropdownOpened,\n  onDeleteSingle,\n  onDeleteAll,\n  onClick,\n  showIcon = true,\n  ...props\n}: SelectInputBaseProps<T>) {\n  const itemMaxWidth = useMemo(\n    () => getItemButtonMaxWidth(optionItems.length),\n    [optionItems?.length],\n  );\n\n  return (\n    <SelectInputWrapper width={width} onClick={onClick}>\n      {label && <SelectInputLabel label={label} required={required} tooltip={tooltip} />}\n      {description && <SelectInputDescription description={description} />}\n      <SelectInputChildrenWrapper>\n        <MainInputSection {...props} isRightSection={true}>\n          {optionItems.length > 0 && (\n            <MultiSelectInputChildContents<T>\n              {...{ width, onDeleteSingle, optionItems, onDeleteAll, itemMaxWidth }}\n            />\n          )}\n        </MainInputSection>\n        {showIcon && (\n          <SelectInputRightIconSection dropdownOpened={dropdownOpened} searchable={false} />\n        )}\n      </SelectInputChildrenWrapper>\n      {error && <SelectInputErrorSection error={error} />}\n    </SelectInputWrapper>\n  );\n}\n\nexport interface SearchInputProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'width'> {\n  width?: number;\n  tooltip?: SelectInputTooltipProps;\n  showIcon?: boolean;\n}\n\nexport function SearchInput({ width, tooltip, showIcon = true, ...props }: SearchInputProps) {\n  return (\n    <SearchInputChildWrapper>\n      {showIcon && (\n        <LeftSectionWrapper cursor={'text'} rotate={'none'} aria-hidden=\"true\">\n          <Icon.Search color={color['grey-50']} />\n        </LeftSectionWrapper>\n      )}\n      <BaseSearchInput\n        cursor={'text'}\n        isRightSection={false}\n        isLeftSection={true}\n        {...props}\n        readOnly={false}\n      />\n    </SearchInputChildWrapper>\n  );\n}\n\nexport interface SelectedItemButtonProps {\n  onDelete: () => void;\n  children: React.ReactNode;\n  maxWidth: number;\n}\n\nfunction SelectedItemButton({ onDelete, children, maxWidth }: SelectedItemButtonProps) {\n  return (\n    <SelectedItemWrapper width={maxWidth}>\n      <SelectedItemTextWrapper width={maxWidth - 5}>\n        <B5 color={color['grey-80']}>{children}</B5>\n      </SelectedItemTextWrapper>\n      <CancelButtonWrapper onClickCapture={onDelete}>\n        <Icon.CancelSmall size={13} />\n      </CancelButtonWrapper>\n    </SelectedItemWrapper>\n  );\n}\n\nexport interface PluralItemInfoSectionProps {\n  itemsCount: number;\n  onDeleteAll: () => void;\n}\n\nfunction PluralItemInfoSection({ itemsCount, onDeleteAll }: PluralItemInfoSectionProps) {\n  return (\n    <PluralDataWrapper>\n      <CountItemWrapper>\n        <B5 c=\"grey-10\">{itemsCount}</B5>\n      </CountItemWrapper>\n      <CancelButtonWrapper onClickCapture={onDeleteAll}>\n        <Icon.CancelSmall />\n      </CancelButtonWrapper>\n    </PluralDataWrapper>\n  );\n}\n\nexport interface MultiSelectInputChildContentsProps<T extends string | number>\n  extends Pick<\n    SelectInputBaseProps<T>,\n    'width' | 'onDeleteSingle' | 'optionItems' | 'onDeleteAll'\n  > {\n  itemMaxWidth: number;\n}\n\nfunction MultiSelectInputChildContents<T extends string | number>({\n  width = 310,\n  onDeleteSingle,\n  optionItems,\n  onDeleteAll,\n  itemMaxWidth,\n}: MultiSelectInputChildContentsProps<T>) {\n  return (\n    <>\n      <ItemsWrapper maxWidth={width - 100}>\n        {optionItems.map(item => (\n          <SelectedItemButton\n            key={item.value + item?.label}\n            maxWidth={itemMaxWidth}\n            onDelete={() => onDeleteSingle(item.value)}\n          >\n            {item.label}\n          </SelectedItemButton>\n        ))}\n      </ItemsWrapper>\n      {optionItems.length > 1 && (\n        <PluralItemInfoSection itemsCount={optionItems.length} onDeleteAll={onDeleteAll} />\n      )}\n    </>\n  );\n}\n\nconst CancelButtonWrapper = styled.div`\n  height: 100%;\n\n  cursor: pointer;\n  background-color: transparent;\n  border: none;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst SelectInputWrapper = styled.div<{ width?: number; cursor?: string }>`\n  width: ${({ width }) => `${width}px` ?? '100%'};\n  position: relative;\n  cursor: ${({ cursor }) => cursor ?? 'auto'};\n`;\n\nconst MainInputSection = styled.div<{\n  error?: string;\n  isRightSection?: boolean;\n  isLeftSection?: boolean;\n}>`\n  width: 100%;\n  height: 34px;\n  padding: ${({ isRightSection, isLeftSection }) => {\n    const paddingLeft = isLeftSection ? 30 : 12;\n    return isRightSection ? `5px 36px 5px ${paddingLeft}px` : `6px ${paddingLeft}px`;\n  }};\n\n  font-style: normal;\n  font-weight: 500;\n  font-size: ${typography.size.xs}px;\n  text-align: center;\n\n  color: ${color['grey-80']};\n  background: ${color['white']};\n  border-radius: 8px;\n  outline: none;\n  border: 1px solid ${color['grey-50']};\n  cursor: pointer;\n\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 4px;\n\n  &:disabled {\n    border: none;\n    background: ${color['grey-10']};\n    color: ${color['grey-50']};\n    cursor: not-allowed;\n  }\n\n  &::placeholder {\n    color: ${color['grey-50']};\n    font-size: ${typography.size.xs}px;\n  }\n\n  ${({ error }) =>\n    error\n      ? `\n    border: 1px solid ${color['error-30']};\n    background: ${color['error-10']};\n  `\n      : `\n    &:focus-visible,\n    &:focus {\n      border: 1px solid ${color['grey-80']};\n    }\n  `}\n`;\n\nconst BaseSearchInput = styled.input<{\n  error?: string;\n  isRightSection?: boolean;\n  isLeftSection?: boolean;\n  cursor?: string;\n}>`\n  width: 100%;\n  height: 34px;\n  padding: ${({ isRightSection, isLeftSection }) => {\n    const paddingLeft = isLeftSection ? 30 : 12;\n    return isRightSection ? `6px 36px 6px ${paddingLeft}px` : `6px ${paddingLeft}px`;\n  }};\n\n  outline: none;\n  border: 1px solid ${color['grey-50']};\n  background: ${color['white']};\n  border-radius: 8px;\n\n  font-style: normal;\n  font-weight: 500;\n  font-size: ${typography.size.xs}px;\n  color: ${color['grey-80']};\n  cursor: ${({ cursor }) => cursor ?? 'auto'};\n\n  &:disabled {\n    border: none;\n    background: ${color['grey-10']};\n    color: ${color['grey-50']};\n    cursor: not-allowed;\n  }\n  &::placeholder {\n    color: ${color['grey-50']};\n    font-size: ${typography.size.xs}px;\n  }\n  ${({ error }) =>\n    error\n      ? `\n    border: 1px solid ${color['error-30']};\n    background: ${color['error-10']};\n  `\n      : `\n    &:focus-visible,\n    &:focus {\n      border: 1px solid ${color['grey-80']};\n    }\n  `}\n`;\n\nconst SelectInputChildrenWrapper = styled.div`\n  position: relative;\n  width: 100%;\n`;\n\nconst IconSectionWrapper = styled.div<{\n  cursor?: string;\n  rotate: string;\n}>`\n  height: 100%;\n  padding: 6px 8px;\n  overflow: visible;\n\n  position: absolute;\n  top: 0%;\n\n  background: transparent;\n  border: none;\n  box-shadow: none;\n  border-radius: 0;\n\n  cursor: ${({ cursor }) => cursor ?? 'pointer'};\n  transform: ${({ rotate }) => rotate ?? 'none'};\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst LeftSectionWrapper = styled(IconSectionWrapper)`\n  left: 0;\n`;\n\nconst SearchInputChildWrapper = styled(SelectInputChildrenWrapper)`\n  margin-bottom: 5px;\n`;\n\nconst SelectedItemWrapper = styled.div<{ width: number }>`\n  width: fit-content;\n  min-width: 40px;\n  max-width: ${({ width }) => width}px;\n  height: 21px;\n  padding: 3px 2px 3px 4px;\n\n  text-align: center;\n  background-color: ${color['grey-20']};\n  border-radius: 4px;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 2px;\n`;\n\nconst SelectedItemTextWrapper = styled.div<{ width?: CSSProperties['width'] }>`\n  width: ${({ width }) => width};\n  height: 100%;\n  min-width: 20px;\n\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  white-space: nowrap;\n`;\n\nconst ItemsWrapper = styled.div<{ maxWidth: number }>`\n  width: ${({ maxWidth }) => {\n    return maxWidth < 214 ? 214 : maxWidth;\n  }}px;\n\n  overflow: hidden;\n  word-break: break-all;\n  white-space: nowrap;\n\n  display: flex;\n  gap: 3px;\n  flex-wrap: nowrap;\n`;\n\nconst CountItemWrapper = styled.div`\n  width: 20px;\n  height: 20px;\n  padding: 2px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  border-radius: 4px;\n  background-color: ${color['grey-60']};\n  color: ${color['grey-10']};\n`;\n\nconst PluralDataWrapper = styled.div`\n  width: fit-content;\n  height: 20px;\n\n  position: absolute;\n  right: 30px;\n\n  display: flex;\n`;\n"],"names":["getItemButtonMaxWidth","itemLen","MultiSelectInput","optionItems","label","description","required","error","width","tooltip","dropdownOpened","onDeleteSingle","onDeleteAll","onClick","showIcon","props","itemMaxWidth","useMemo","jsxs","SelectInputWrapper","jsx","SelectInputLabel","SelectInputDescription","SelectInputChildrenWrapper","MainInputSection","MultiSelectInputChildContents","SelectInputRightIconSection","SelectInputErrorSection","SearchInput","SearchInputChildWrapper","LeftSectionWrapper","Icon","color","BaseSearchInput","SelectedItemButton","onDelete","children","maxWidth","SelectedItemWrapper","SelectedItemTextWrapper","B5","CancelButtonWrapper","PluralItemInfoSection","itemsCount","PluralDataWrapper","CountItemWrapper","Fragment","ItemsWrapper","item","styled","cursor","isRightSection","isLeftSection","paddingLeft","typography","IconSectionWrapper","rotate"],"mappings":"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"}