{"version":3,"file":"index.mjs","sources":["../../../../src/legacy/components/Pagination/index.tsx"],"sourcesContent":["import { useMemo } from 'react';\n\nimport styled from '@emotion/styled';\n\nimport Icon from '../Icon';\nimport { B2 } from '../Text';\nimport { color } from '../styles';\n\nconst Item = styled.button<{ selected?: boolean; borderRadius: number }>`\n  padding: 0;\n  width: 32px;\n  height: 32px;\n  border: 1px solid ${props => (props.selected ? color['grey-50'] : color['grey-40'])};\n  border-radius: ${props => props.borderRadius}px;\n  background-color: ${props => (props.selected ? color['grey-30'] : color.white)};\n  cursor: ${props => (props.disabled ? 'default' : 'pointer')};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Container = styled.div`\n  display: flex;\n  gap: 6px;\n`;\n\nexport interface PaginationProps {\n  current: number;\n  total: number;\n  onSelect: (page: number) => void;\n}\n\nconst range = (start: number, end: number): number[] => {\n  return Array.from({ length: end - start + 1 }, (_, i) => start + i);\n};\n\nconst COUNT_PER_PAGE = 5;\n\nexport function Pagination({ current, total, onSelect }: PaginationProps) {\n  const { start, end, visiblePages, showMore, canGoNext, canGoPrev } = useMemo(() => {\n    const start = (Math.ceil(current / COUNT_PER_PAGE) - 1) * COUNT_PER_PAGE + 1;\n    const end = Math.min(start + COUNT_PER_PAGE - 1, total);\n    const visiblePages = range(start, end);\n\n    const showMore = total > COUNT_PER_PAGE;\n\n    const canGoPrev = current > COUNT_PER_PAGE;\n    const canGoNext = end < total;\n\n    return {\n      start,\n      end,\n      visiblePages,\n      showMore,\n      canGoNext,\n      canGoPrev,\n    };\n  }, [current, total]);\n\n  return (\n    <Container>\n      {showMore && (\n        <Item\n          disabled={!canGoPrev}\n          borderRadius={4}\n          onClick={() => {\n            if (canGoPrev) {\n              onSelect(start - 1);\n            }\n          }}\n        >\n          <Icon.ChevronLeftSmall color={canGoPrev ? color['grey-80'] : color['grey-40']} />\n        </Item>\n      )}\n      {visiblePages.map(page => (\n        <Item\n          disabled={page === current}\n          key={page}\n          selected={page === current}\n          borderRadius={3}\n          onClick={() => {\n            onSelect(page);\n          }}\n        >\n          <B2>{page}</B2>\n        </Item>\n      ))}\n      {showMore && (\n        <Item\n          disabled={!canGoNext}\n          borderRadius={4}\n          onClick={() => {\n            if (canGoNext) {\n              onSelect(end + 1);\n            }\n          }}\n        >\n          <Icon.ChevronRightSmall color={canGoNext ? color['grey-80'] : color['grey-40']} />\n        </Item>\n      )}\n    </Container>\n  );\n}\n"],"names":["Item","styled","props","color","Container","range","start","end","_","i","COUNT_PER_PAGE","Pagination","current","total","onSelect","visiblePages","showMore","canGoNext","canGoPrev","useMemo","jsx","Icon","page","B2"],"mappings":";;;;;;AAQA,MAAMA,IAAOC,EAAO;AAAA;AAAA;AAAA;AAAA,sBAIE,CAAAC,MAAUA,EAAM,WAAWC,EAAM,SAAS,IAAIA,EAAM,SAAS,CAAE;AAAA,mBAClE,CAAAD,MAASA,EAAM,YAAY;AAAA,sBACxB,OAAUA,EAAM,WAAWC,EAAM,SAAS,IAAIA,EAAM,KAAM;AAAA,YACpE,CAAUD,MAAAA,EAAM,WAAW,YAAY,SAAU;AAAA;AAAA;AAAA;AAAA,GAMvDE,IAAYH,EAAO;AAAA;AAAA;AAAA,GAWnBI,IAAQ,CAACC,GAAeC,MACrB,MAAM,KAAK,EAAE,QAAQA,IAAMD,IAAQ,EAAE,GAAG,CAACE,GAAGC,MAAMH,IAAQG,CAAC,GAG9DC,IAAiB;AAEhB,SAASC,EAAW,EAAE,SAAAC,GAAS,OAAAC,GAAO,UAAAC,KAA6B;AAClE,QAAA,EAAE,OAAAR,GAAO,KAAAC,GAAK,cAAAQ,GAAc,UAAAC,GAAU,WAAAC,GAAW,WAAAC,MAAcC,EAAQ,MAAM;AACjF,UAAMb,KAAS,KAAK,KAAKM,IAAUF,CAAc,IAAI,KAAKA,IAAiB,GACrEH,IAAM,KAAK,IAAID,IAAQI,IAAiB,GAAGG,CAAK,GAChDE,IAAeV,EAAMC,GAAOC,CAAG,GAE/BS,IAAWH,IAAQH,GAEnBQ,IAAYN,IAAUF,GACtBO,IAAYV,IAAMM;AAEjB,WAAA;AAAA,MACL,OAAAP;AAAAA,MACA,KAAAC;AAAAA,MACA,cAAAQ;AAAAA,MACA,UAAAC;AAAAA,MACA,WAAAC;AAAAA,MACA,WAAAC;AAAAA,IAAA;AAAA,EACF,GACC,CAACN,GAASC,CAAK,CAAC;AAEnB,2BACGT,GACE,EAAA,UAAA;AAAA,IACCY,KAAA,gBAAAI;AAAA,MAACpB;AAAA,MAAA;AAAA,QACC,UAAU,CAACkB;AAAA,QACX,cAAc;AAAA,QACd,SAAS,MAAM;AACb,UAAIA,KACFJ,EAASR,IAAQ,CAAC;AAAA,QAEtB;AAAA,QAEA,UAAA,gBAAAc,EAACC,EAAK,kBAAL,EAAsB,OAAOH,IAAYf,EAAM,SAAS,IAAIA,EAAM,SAAS,EAAG,CAAA;AAAA,MAAA;AAAA,IACjF;AAAA,IAEDY,EAAa,IAAI,CAChBO,MAAA,gBAAAF;AAAA,MAACpB;AAAA,MAAA;AAAA,QACC,UAAUsB,MAASV;AAAA,QAEnB,UAAUU,MAASV;AAAA,QACnB,cAAc;AAAA,QACd,SAAS,MAAM;AACb,UAAAE,EAASQ,CAAI;AAAA,QACf;AAAA,QAEA,UAAA,gBAAAF,EAACG,KAAI,UAAKD,EAAA,CAAA;AAAA,MAAA;AAAA,MAPLA;AAAA,IAAA,CASR;AAAA,IACAN,KACC,gBAAAI;AAAA,MAACpB;AAAA,MAAA;AAAA,QACC,UAAU,CAACiB;AAAA,QACX,cAAc;AAAA,QACd,SAAS,MAAM;AACb,UAAIA,KACFH,EAASP,IAAM,CAAC;AAAA,QAEpB;AAAA,QAEA,UAAA,gBAAAa,EAACC,EAAK,mBAAL,EAAuB,OAAOJ,IAAYd,EAAM,SAAS,IAAIA,EAAM,SAAS,EAAG,CAAA;AAAA,MAAA;AAAA,IAClF;AAAA,EAEJ,EAAA,CAAA;AAEJ;"}