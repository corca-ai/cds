{"version":3,"file":"FileInput.mjs","sources":["../../../../src/legacy/components/Input/FileInput.tsx"],"sourcesContent":["import { ChangeEvent, useId } from 'react';\n\nimport styled from '@emotion/styled';\n\nimport Icon from '../Icon';\nimport { B3 } from '../Text';\nimport {\n  BaseInputType,\n  type InputBaseProps,\n  InputContainer,\n  baseInputStyles,\n} from './InputContainer';\n\nexport type FileInputProps = Omit<InputBaseProps, 'children' | 'value'> & {\n  uploadType: 'audio' | 'image' | 'video' | 'csv' | 'txt' | 'pdf' | 'default';\n  file: File | null;\n  onUpload: (file: File) => void;\n};\n\nconst getMimeType = (uploadType?: FileInputProps['uploadType']) => {\n  switch (uploadType) {\n    case 'audio':\n    case 'image':\n    case 'video':\n      return `${uploadType}/*`;\n    case 'csv':\n      return 'text/csv';\n    case 'txt':\n      return 'text/plain';\n    case 'pdf':\n      return '.pdf';\n    default:\n      return '*/*';\n  }\n};\n\nexport function FileInput({\n  label,\n  placeholder,\n  description,\n  name,\n  file,\n  error,\n  disabled,\n  onUpload,\n  defaultValue,\n  required = false,\n  width,\n  tooltip,\n  onClick,\n  height,\n  uploadType = 'default',\n  ...props\n}: FileInputProps) {\n  const id = useId();\n  return (\n    <InputContainer\n      cursorPointer\n      onClick={onClick}\n      label={label}\n      description={description}\n      required={required}\n      error={error}\n      width={width}\n      tooltip={tooltip}\n      {...props}\n      leftSection={<Icon.Upload />}\n    >\n      <>\n        <FileUploadInput\n          onChange={(event: ChangeEvent<HTMLInputElement>) => {\n            if (event.target.files) {\n              onUpload(event.target.files[0]);\n            }\n          }}\n          type=\"file\"\n          accept={getMimeType(uploadType)}\n          id={`file-input-${id}`}\n        />\n        <UploadButton\n          isLeftSection\n          error={error}\n          height={height}\n          cursorPointer\n          htmlFor={`file-input-${id}`}\n        >\n          {file ? <B3>{file.name}</B3> : <B3 c=\"grey-50\">{placeholder}</B3>}\n        </UploadButton>\n      </>\n    </InputContainer>\n  );\n}\n\nconst FileUploadInput = styled.input`\n  display: none;\n`;\n\nexport const UploadButton = styled.label<BaseInputType>`\n  ${props => baseInputStyles(props)}\n  display: flex;\n  align-items: center;\n`;\n"],"names":["getMimeType","uploadType","FileInput","label","placeholder","description","name","file","error","disabled","onUpload","defaultValue","required","width","tooltip","onClick","height","props","id","useId","jsx","InputContainer","Icon","jsxs","Fragment","FileUploadInput","event","UploadButton","B3","styled","baseInputStyles"],"mappings":";;;;;;AAmBA,MAAMA,IAAc,CAACC,MAA8C;AACjE,UAAQA,GAAY;AAAA,IAClB,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACH,aAAO,GAAGA,CAAU;AAAA,IACtB,KAAK;AACI,aAAA;AAAA,IACT,KAAK;AACI,aAAA;AAAA,IACT,KAAK;AACI,aAAA;AAAA,IACT;AACS,aAAA;AAAA,EACX;AACF;AAEO,SAASC,EAAU;AAAA,EACxB,OAAAC;AAAA,EACA,aAAAC;AAAA,EACA,aAAAC;AAAA,EACA,MAAAC;AAAA,EACA,MAAAC;AAAA,EACA,OAAAC;AAAA,EACA,UAAAC;AAAA,EACA,UAAAC;AAAA,EACA,cAAAC;AAAA,EACA,UAAAC,IAAW;AAAA,EACX,OAAAC;AAAA,EACA,SAAAC;AAAA,EACA,SAAAC;AAAA,EACA,QAAAC;AAAA,EACA,YAAAf,IAAa;AAAA,EACb,GAAGgB;AACL,GAAmB;AACjB,QAAMC,IAAKC;AAET,SAAA,gBAAAC;AAAA,IAACC;AAAA,IAAA;AAAA,MACC,eAAa;AAAA,MACb,SAAAN;AAAA,MACA,OAAAZ;AAAA,MACA,aAAAE;AAAA,MACA,UAAAO;AAAA,MACA,OAAAJ;AAAA,MACA,OAAAK;AAAA,MACA,SAAAC;AAAA,MACC,GAAGG;AAAA,MACJ,aAAa,gBAAAG,EAACE,EAAK,QAAL,CAAA,CAAY;AAAA,MAE1B,UACE,gBAAAC,EAAAC,GAAA,EAAA,UAAA;AAAA,QAAA,gBAAAJ;AAAA,UAACK;AAAA,UAAA;AAAA,YACC,UAAU,CAACC,MAAyC;AAC9C,cAAAA,EAAM,OAAO,SACfhB,EAASgB,EAAM,OAAO,MAAM,CAAC,CAAC;AAAA,YAElC;AAAA,YACA,MAAK;AAAA,YACL,QAAQ1B,EAAYC,CAAU;AAAA,YAC9B,IAAI,cAAciB,CAAE;AAAA,UAAA;AAAA,QACtB;AAAA,QACA,gBAAAE;AAAA,UAACO;AAAA,UAAA;AAAA,YACC,eAAa;AAAA,YACb,OAAAnB;AAAA,YACA,QAAAQ;AAAA,YACA,eAAa;AAAA,YACb,SAAS,cAAcE,CAAE;AAAA,YAExB,UAAAX,IAAQ,gBAAAa,EAAAQ,GAAA,EAAI,UAAKrB,EAAA,KAAA,CAAK,IAAS,gBAAAa,EAAAQ,GAAA,EAAG,GAAE,WAAW,UAAYxB,GAAA;AAAA,UAAA;AAAA,QAC9D;AAAA,MAAA,GACF;AAAA,IAAA;AAAA,EAAA;AAGN;AAEA,MAAMqB,IAAkBI,EAAO;AAAA;AAAA,GAIlBF,IAAeE,EAAO;AAAA,IAC/B,CAAAZ,MAASa,EAAgBb,CAAK,CAAC;AAAA;AAAA;AAAA;"}