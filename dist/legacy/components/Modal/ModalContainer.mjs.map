{"version":3,"file":"ModalContainer.mjs","sources":["../../../../src/legacy/components/Modal/ModalContainer.tsx"],"sourcesContent":["import React, { type ReactElement, useEffect, useRef } from 'react';\n\nimport styled from '@emotion/styled';\n\nimport { color } from '../styles';\n\ninterface Props {\n  opened: boolean;\n  children: ReactElement | ReactElement[];\n  borderRadius: number;\n  onClose: () => void;\n  closeOnBackdropClick?: boolean;\n  drawer?: boolean;\n}\n\nconst Dialog = styled.dialog<{ borderRadius: number; drawer?: boolean }>`\n  &::backdrop {\n    background-color: ${color['grey-80']};\n    opacity: 0.5;\n  }\n  margin: auto;\n  border-radius: ${props => props.borderRadius}px;\n  border: none;\n  padding: 0;\n  ${({ drawer }) =>\n    drawer &&\n    `\n  position: fixed;\n  left: 100%;\n  transform: translateX(-100%);\n  height: 100vh;\n  &:modal {\n    max-height: 100vh;\n  }`}\n\n  box-shadow: 0px 0px 1px 0px rgba(132, 132, 132, 0.31),\n    0px 2px 5px 0px rgba(70, 70, 70, 0.2);\n`;\n\nexport function ModalContainer({\n  opened,\n  children,\n  borderRadius,\n  onClose,\n  closeOnBackdropClick = true,\n  drawer = false,\n}: Props) {\n  const ref = useRef<HTMLDialogElement>(null);\n\n  useEffect(() => {\n    if (opened) {\n      ref.current?.showModal();\n    } else {\n      ref.current?.close();\n    }\n  }, [opened]);\n\n  function onClickBackdrop(e: React.MouseEvent<HTMLDialogElement, MouseEvent>) {\n    if (closeOnBackdropClick) {\n      const target = e.target as HTMLDialogElement;\n      if (target === ref.current) {\n        onClose();\n      }\n    }\n  }\n\n  return (\n    <Dialog\n      ref={ref}\n      borderRadius={borderRadius}\n      onClick={onClickBackdrop}\n      onClose={onClose}\n      drawer={drawer}\n    >\n      {children}\n    </Dialog>\n  );\n}\n"],"names":["Dialog","styled","color","props","drawer","ModalContainer","opened","children","borderRadius","onClose","closeOnBackdropClick","ref","useRef","useEffect","_a","_b","onClickBackdrop","e","jsx"],"mappings":";;;;AAeA,MAAMA,IAASC,EAAO;AAAA;AAAA,wBAEEC,EAAM,SAAS,CAAC;AAAA;AAAA;AAAA;AAAA,mBAIrB,CAAAC,MAASA,EAAM,YAAY;AAAA;AAAA;AAAA,IAG1C,CAAC,EAAE,QAAAC,QACHA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA;AAAA;AAAA;AAAA;AAAA;AAMG,SAASC,EAAe;AAAA,EAC7B,QAAAC;AAAA,EACA,UAAAC;AAAA,EACA,cAAAC;AAAA,EACA,SAAAC;AAAA,EACA,sBAAAC,IAAuB;AAAA,EACvB,QAAAN,IAAS;AACX,GAAU;AACF,QAAAO,IAAMC,EAA0B,IAAI;AAE1C,EAAAC,EAAU,MAAM;;AACd,IAAIP,KACFQ,IAAAH,EAAI,YAAJ,QAAAG,EAAa,eAEbC,IAAAJ,EAAI,YAAJ,QAAAI,EAAa;AAAA,EACf,GACC,CAACT,CAAM,CAAC;AAEX,WAASU,EAAgBC,GAAoD;AAC3E,IAAIP,KACaO,EAAE,WACFN,EAAI,WACTF;EAGd;AAGE,SAAA,gBAAAS;AAAA,IAAClB;AAAA,IAAA;AAAA,MACC,KAAAW;AAAA,MACA,cAAAH;AAAA,MACA,SAASQ;AAAA,MACT,SAAAP;AAAA,MACA,QAAAL;AAAA,MAEC,UAAAG;AAAA,IAAA;AAAA,EAAA;AAGP;"}