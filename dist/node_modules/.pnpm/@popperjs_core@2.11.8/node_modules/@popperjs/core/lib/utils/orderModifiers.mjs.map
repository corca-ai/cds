{"version":3,"file":"orderModifiers.mjs","sources":["../../../../../../../../../node_modules/.pnpm/@popperjs+core@2.11.8/node_modules/@popperjs/core/lib/utils/orderModifiers.js"],"sourcesContent":["import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}"],"names":["order","modifiers","map","visited","result","modifier","sort","requires","dep","depModifier","orderModifiers","orderedModifiers","modifierPhases","acc","phase"],"mappings":";AAEA,SAASA,EAAMC,GAAW;AACxB,MAAIC,IAAM,oBAAI,OACVC,IAAU,oBAAI,OACdC,IAAS,CAAA;AACb,EAAAH,EAAU,QAAQ,SAAUI,GAAU;AACpC,IAAAH,EAAI,IAAIG,EAAS,MAAMA,CAAQ;AAAA,EACnC,CAAG;AAED,WAASC,EAAKD,GAAU;AACtB,IAAAF,EAAQ,IAAIE,EAAS,IAAI;AACzB,QAAIE,IAAW,GAAG,OAAOF,EAAS,YAAY,CAAA,GAAIA,EAAS,oBAAoB,CAAA,CAAE;AACjF,IAAAE,EAAS,QAAQ,SAAUC,GAAK;AAC9B,UAAI,CAACL,EAAQ,IAAIK,CAAG,GAAG;AACrB,YAAIC,IAAcP,EAAI,IAAIM,CAAG;AAE7B,QAAIC,KACFH,EAAKG,CAAW;AAAA,MAEnB;AAAA,IACP,CAAK,GACDL,EAAO,KAAKC,CAAQ;AAAA,EACrB;AAED,SAAAJ,EAAU,QAAQ,SAAUI,GAAU;AACpC,IAAKF,EAAQ,IAAIE,EAAS,IAAI,KAE5BC,EAAKD,CAAQ;AAAA,EAEnB,CAAG,GACMD;AACT;AAEe,SAASM,EAAeT,GAAW;AAEhD,MAAIU,IAAmBX,EAAMC,CAAS;AAEtC,SAAOW,EAAe,OAAO,SAAUC,GAAKC,GAAO;AACjD,WAAOD,EAAI,OAAOF,EAAiB,OAAO,SAAUN,GAAU;AAC5D,aAAOA,EAAS,UAAUS;AAAA,IAC3B,CAAA,CAAC;AAAA,EACH,GAAE,CAAE,CAAA;AACP;","x_google_ignoreList":[0]}