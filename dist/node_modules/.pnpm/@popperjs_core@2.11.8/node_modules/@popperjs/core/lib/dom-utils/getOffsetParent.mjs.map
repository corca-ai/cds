{"version":3,"file":"getOffsetParent.mjs","sources":["../../../../../../../../../node_modules/.pnpm/@popperjs+core@2.11.8/node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js"],"sourcesContent":["import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement, isShadowRoot } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getUAString from \"../utils/userAgent.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = /firefox/i.test(getUAString());\n  var isIE = /Trident/i.test(getUAString());\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}"],"names":["getTrueOffsetParent","element","isHTMLElement","getComputedStyle","getContainingBlock","isFirefox","getUAString","isIE","elementCss","currentNode","getParentNode","isShadowRoot","getNodeName","css","getOffsetParent","window","getWindow","offsetParent","isTableElement"],"mappings":";;;;;;;AAQA,SAASA,EAAoBC,GAAS;AACpC,SAAI,CAACC,EAAcD,CAAO;AAAA,EAC1BE,EAAiBF,CAAO,EAAE,aAAa,UAC9B,OAGFA,EAAQ;AACjB;AAIA,SAASG,EAAmBH,GAAS;AACnC,MAAII,IAAY,WAAW,KAAKC,EAAa,CAAA,GACzCC,IAAO,WAAW,KAAKD,EAAa,CAAA;AAExC,MAAIC,KAAQL,EAAcD,CAAO,GAAG;AAElC,QAAIO,IAAaL,EAAiBF,CAAO;AAEzC,QAAIO,EAAW,aAAa;AAC1B,aAAO;AAAA,EAEV;AAED,MAAIC,IAAcC,EAAcT,CAAO;AAMvC,OAJIU,EAAaF,CAAW,MAC1BA,IAAcA,EAAY,OAGrBP,EAAcO,CAAW,KAAK,CAAC,QAAQ,MAAM,EAAE,QAAQG,EAAYH,CAAW,CAAC,IAAI,KAAG;AAC3F,QAAII,IAAMV,EAAiBM,CAAW;AAItC,QAAII,EAAI,cAAc,UAAUA,EAAI,gBAAgB,UAAUA,EAAI,YAAY,WAAW,CAAC,aAAa,aAAa,EAAE,QAAQA,EAAI,UAAU,MAAM,MAAMR,KAAaQ,EAAI,eAAe,YAAYR,KAAaQ,EAAI,UAAUA,EAAI,WAAW;AAC5O,aAAOJ;AAEP,IAAAA,IAAcA,EAAY;AAAA,EAE7B;AAED,SAAO;AACT;AAIe,SAASK,EAAgBb,GAAS;AAI/C,WAHIc,IAASC,EAAUf,CAAO,GAC1BgB,IAAejB,EAAoBC,CAAO,GAEvCgB,KAAgBC,EAAeD,CAAY,KAAKd,EAAiBc,CAAY,EAAE,aAAa;AACjG,IAAAA,IAAejB,EAAoBiB,CAAY;AAGjD,SAAIA,MAAiBL,EAAYK,CAAY,MAAM,UAAUL,EAAYK,CAAY,MAAM,UAAUd,EAAiBc,CAAY,EAAE,aAAa,YACxIF,IAGFE,KAAgBb,EAAmBH,CAAO,KAAKc;AACxD;","x_google_ignoreList":[0]}